################################################################################
# Stack: n8n
# Descricao: Variaveis de ambiente para n8n com PostgreSQL e Redis
#
# INSTRUCOES:
#   1. Copie este arquivo: cp .env.example .env
#   2. Edite o .env com seus valores
#   3. NUNCA commite o arquivo .env com senhas reais
################################################################################

# ==============================================================================
# GERAL
# ==============================================================================
COMPOSE_PROJECT_NAME=n8n
GENERIC_TIMEZONE=America/Sao_Paulo

# ==============================================================================
# n8n - CONFIGURACOES PRINCIPAIS
# ==============================================================================
# Host e protocolo (usado para webhooks)
N8N_HOST=n8n.seudominio.com.br
N8N_PROTOCOL=https
N8N_PORT=5678

# URL completa para webhooks (Tailscale Funnel ou proxy reverso)
WEBHOOK_URL=https://n8n.seudominio.com.br

# Chave de criptografia (gere com: openssl rand -hex 32)
N8N_ENCRYPTION_KEY=sua_chave_de_32_caracteres_aqui_gere_com_openssl

# ==============================================================================
# POSTGRESQL - BANCO DE DADOS
# ==============================================================================
POSTGRES_USER=n8n
POSTGRES_PASSWORD=senha_segura_postgres_aqui
POSTGRES_DB=n8n

# ==============================================================================
# REDIS - FILAS
# ==============================================================================
REDIS_PASSWORD=senha_segura_redis_aqui

# ==============================================================================
# PERFORMANCE (OPCIONAL)
# ==============================================================================
# Dias para manter historico de execucoes (default: 168 = 7 dias)
EXECUTIONS_DATA_MAX_AGE=168

# Tamanho maximo de payload em MB (default: 16)
N8N_PAYLOAD_SIZE_MAX=16

# Nivel de log: info, warn, error, debug
N8N_LOG_LEVEL=info

# ==============================================================================
# PRE-REQUISITOS
# ==============================================================================
# Antes de subir a stack, crie os recursos externos:
#
# Network:
#   docker network create llmserver
#
# Volume:
#   docker volume create n8n_data
#
